ARM GAS  /tmp/ccCmNqaZ.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"contactor.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c"
  20              		.section	.text.error_handler,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	error_handler:
  27              	.LFB293:
   1:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #include "stm32xx_hal.h"
   2:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #include "contactor.h"
   3:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #include "CAN.h"
   4:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
   5:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define blinky 1
   6:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // #define cantest 2
   7:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // #define contactorcode 3
   8:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
   9:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define m_enable_pin GPIO_PIN_0
  10:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define mpre_enable_pin GPIO_PIN_3
  11:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define apre_enable_pin GPIO_PIN_7
  12:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define m_sense_pin GPIO_PIN_1
  13:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define mpre_sense_pin GPIO_PIN_4
  14:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define apre_sense_pin GPIO_PIN_0 // B PLEASE REMEMBER
  15:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define mt_fault_pin GPIO_PIN_10
  16:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define ms_fault_pin GPIO_PIN_8
  17:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define at_fault_pin GPIO_PIN_3 // B PLEASE REMEMBER
  18:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define as_fault_pin GPIO_PIN_9
  19:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define mpre_ready_pin GPIO_PIN_4 // B PLEASE REMEMBER
  20:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define apre_ready_pin GPIO_PIN_5 // B PLEASE REMEMBER
  21:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  22:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define m_direct HAL_GPIO_ReadPin(GPIOA, m_enable_pin)
  23:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  24:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define m_pre_enable(state) HAL_GPIO_WritePin(GPIOA, mpre_enable_pin, state)
  25:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define a_pre_enable(state) HAL_GPIO_WritePin(GPIOA, apre_enable_pin, state)
  26:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  27:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define m_sense HAL_GPIO_ReadPin(GPIOA, m_sense_pin)
  28:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define m_pre_sense HAL_GPIO_ReadPin(GPIOA, mpre_sense_pin)
  29:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define a_pre_sense HAL_GPIO_ReadPin(GPIOA, apre_sense_pin)
  30:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  31:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define m_pre_ready HAL_GPIO_ReadPin(GPIOB, mpre_ready_pin)
ARM GAS  /tmp/ccCmNqaZ.s 			page 2


  32:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define a_pre_ready HAL_GPIO_ReadPin(GPIOB, apre_ready_pin)
  33:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  34:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define mt_fault(state) HAL_GPIO_WritePin(GPIOA, mt_fault_pin, state)
  35:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define ms_fault(state) HAL_GPIO_WritePin(GPIOA, ms_fault_pin, state)
  36:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define at_fault(state) HAL_GPIO_WritePin(GPIOB, at_fault_pin, state)
  37:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define as_fault(state) HAL_GPIO_WritePin(GPIOA, as_fault_pin, state)
  38:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  39:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****  typedef enum {
  40:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     OPEN,
  41:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     CLOSED,
  42:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     FAULT
  43:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** } State;
  44:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  45:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** typedef enum{
  46:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   NO_FAULT,
  47:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   MT_FAULT,
  48:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   MS_FAULT,
  49:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   AT_FAULT,
  50:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   AS_FAULT
  51:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** } Fault;
  52:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  53:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define M_TIMEOUT 1000
  54:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define MPRE_TIMEOUT 1000
  55:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** #define APRE_TIMEOUT 1000
  56:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  57:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  58:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** static void error_handler(void)
  59:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** {
  28              		.loc 1 59 1 view -0
  29              		.cfi_startproc
  30              		@ Volatile: function does not return.
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  38              	.L2:
  60:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   while (1)
  39              		.loc 1 60 3 discriminator 1 view .LVU1
  61:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   {
  62:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     ms_fault(1);
  40              		.loc 1 62 5 discriminator 1 view .LVU2
  41 0002 0122     		movs	r2, #1
  42 0004 4FF48071 		mov	r1, #256
  43 0008 4FF09040 		mov	r0, #1207959552
  44 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
  45              	.LVL0:
  63:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     HAL_Delay(1000);
  46              		.loc 1 63 5 discriminator 1 view .LVU3
  47 0010 4FF47A70 		mov	r0, #1000
  48 0014 FFF7FEFF 		bl	HAL_Delay
  49              	.LVL1:
  64:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     ms_fault(0);
  50              		.loc 1 64 5 discriminator 1 view .LVU4
  51 0018 0022     		movs	r2, #0
ARM GAS  /tmp/ccCmNqaZ.s 			page 3


  52 001a 4FF48071 		mov	r1, #256
  53 001e 4FF09040 		mov	r0, #1207959552
  54 0022 FFF7FEFF 		bl	HAL_GPIO_WritePin
  55              	.LVL2:
  65:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     HAL_Delay(1000);
  56              		.loc 1 65 5 discriminator 1 view .LVU5
  57 0026 4FF47A70 		mov	r0, #1000
  58 002a FFF7FEFF 		bl	HAL_Delay
  59              	.LVL3:
  60:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   {
  60              		.loc 1 60 9 discriminator 1 view .LVU6
  61 002e E8E7     		b	.L2
  62              		.cfi_endproc
  63              	.LFE293:
  65              		.section	.text.contactorTask,"ax",%progbits
  66              		.align	1
  67              		.syntax unified
  68              		.thumb
  69              		.thumb_func
  71              	contactorTask:
  72              	.LVL4:
  73              	.LFB295:
  66:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   }
  67:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** }
  68:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  69:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // // CAN_HandleTypeDef hcan1;
  70:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  71:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // // Private function prototypes -----------------------------------------------
  72:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // void SystemClock_Config(void);
  73:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // static void MX_GPIO_Init(void);
  74:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // void StartDefaultTask(void const * argument);
  75:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  76:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  77:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // /**
  78:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   * @brief System Clock Configuration
  79:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   * @retval None
  80:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   */
  81:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // void SystemClock_Config(void)
  82:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // {
  83:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
  84:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
  85:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  86:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   /** Configure the main internal regulator output voltage
  87:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   */
  88:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   if (HAL_PWREx_ControlVoltageScaling(PWR_REGULATOR_VOLTAGE_SCALE1) != HAL_OK)
  89:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   {
  90:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //     error_handler();
  91:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   }
  92:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
  93:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   /** Initializes the RCC Oscillators according to the specified parameters
  94:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   * in the RCC_OscInitTypeDef structure.
  95:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   */
  96:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI;
  97:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
  98:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
  99:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 100:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
ARM GAS  /tmp/ccCmNqaZ.s 			page 4


 101:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_OscInitStruct.PLL.PLLM = 2;
 102:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_OscInitStruct.PLL.PLLN = 25;
 103:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_OscInitStruct.PLL.PLLP = RCC_PLLP_DIV7;
 104:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_OscInitStruct.PLL.PLLQ = RCC_PLLQ_DIV2;
 105:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_OscInitStruct.PLL.PLLR = RCC_PLLR_DIV4;
 106:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 107:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   {
 108:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //     error_handler();
 109:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   }
 110:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 111:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   /** Initializes the CPU, AHB and APB buses clocks
 112:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   */
 113:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 114:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 115:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 116:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 117:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 118:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 119:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 120:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_3) != HAL_OK)
 121:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   {
 122:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //     error_handler();
 123:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   }
 124:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // }
 125:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // 
 126:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 127:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** /**
 128:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****  * @brief GPIO Initialization Function
 129:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****  * @param None
 130:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****  * @retval None
 131:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****  */
 132:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** static void MX_GPIO_Init(void)
 133:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** {
 134:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
 135:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   /* USER CODE BEGIN MX_GPIO_Init_1 */
 136:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   /* USER CODE END MX_GPIO_Init_1 */
 137:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 138:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   /* GPIO Ports Clock Enable */
 139:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOC_CLK_ENABLE();
 140:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOA_CLK_ENABLE();
 141:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOB_CLK_ENABLE();
 142:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 143:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   /*Configure GPIO pin Output Level */
 144:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_GPIO_WritePin(GPIOA, m_enable_pin | mpre_enable_pin | apre_enable_pin | mt_fault_pin | ms_fau
 145:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****                     GPIO_PIN_RESET);
 146:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 147:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   /*Configure GPIO pin Output Level */
 148:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_GPIO_WritePin(GPIOB, at_fault_pin, GPIO_PIN_RESET);
 149:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 150:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   /*Configure GPIO pins : PA1 PA4 */
 151:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pin = m_sense_pin | mpre_sense_pin;
 152:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 153:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 154:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 155:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 156:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   /*Configure GPIO pins : PA0 PA3 PA7 PA8 PA9 PA10 */
 157:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pin = m_enable_pin | mpre_enable_pin | apre_enable_pin | mt_fault_pin | ms_fault_
ARM GAS  /tmp/ccCmNqaZ.s 			page 5


 158:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 159:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 160:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 161:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 162:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 163:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   /*Configure GPIO pin : VCP_RX_Pin */
 164:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // GPIO_InitStruct.Pin = VCP_RX_Pin;
 165:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 166:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // GPIO_InitStruct.Pull = GPIO_NOPULL;
 167:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 168:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // GPIO_InitStruct.Alternate = GPIO_AF3_USART2;
 169:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // HAL_GPIO_Init(VCP_RX_GPIO_Port, &GPIO_InitStruct);
 170:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 171:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   /*Configure GPIO pin : PB3 led */
 172:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pin = at_fault_pin;
 173:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 174:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 175:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 176:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 177:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 178:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   /*Configure GPIO pins : PB4 PB5 */
 179:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pin = mpre_ready_pin | apre_ready_pin | apre_sense_pin;
 180:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 181:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 182:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 183:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 184:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   /* USER CODE BEGIN MX_GPIO_Init_2 */
 185:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   /* USER CODE END MX_GPIO_Init_2 */
 186:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** }
 187:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 188:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 189:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** /*
 190:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // #define start &contactorFSM[0]
 191:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // #define closing &contactorFSM[1]
 192:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // #define closed &contactorFSM[2]
 193:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // #define opening &contactorFSM[3]
 194:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // #define fault &contactorFSM[4]
 195:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 196:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // #define prestart &prechargeFSM[0]
 197:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // #define precharge &prechargeFSM[1]
 198:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // #define preclosing &prechargeFSM[2]
 199:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // #define preclosed &prechargeFSM[3]
 200:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // #define preopening &prechargeFSM[4]
 201:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // #define prefault &prechargeFSM[5]
 202:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** */
 203:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 204:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** typedef struct motorContactor
 205:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** {
 206:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   int state; // open, closed
 207:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   int enable_in;
 208:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   int sense;  // GPIO pin to read the contactor's state
 209:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // int enable_out; // GPIO pin to control the contactor
 210:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   int fault;
 211:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   uint32_t start_time; // HAL_getTick()
 212:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // const struct motorContactor *next[4];
 213:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** } motorContactor;
 214:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
ARM GAS  /tmp/ccCmNqaZ.s 			page 6


 215:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** /*
 216:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // const motorContactor motorContactorFSM[5] = {
 217:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //     {0, 0, 0, {start, fault, closing, fault}}, //open
 218:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //     {1, 0, 1, {opening, opening, closing, closed}},//closing
 219:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //     {1, 1, 1, {fault, opening, fault, closed}},//closed
 220:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //     {0, 1, 0, {start, opening, start, closed}},//opening
 221:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //     {0, 0, 0, {fault, fault, fault, fault}} // fault
 222:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // };
 223:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** */
 224:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 225:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** typedef struct Precharge
 226:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** {
 227:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   int state;     // open, closed
 228:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   int sense_in;  // GPIO pin to read the contactor's state
 229:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   int pre_ready; // Precharge ready signal
 230:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   int pre_sense;
 231:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   int enable_out; // GPIO pin to control the contactor
 232:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   int fault;
 233:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   uint32_t start_time;
 234:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // const struct Precharge *next[8];
 235:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** } Precharge;
 236:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 237:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** /*
 238:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // const Contactor prechargeFSM[6] = {
 239:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   {0, 0, 0, 0, {prestart, prefault, prestart, prefault, precharge, prefault,
 240:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   precharge, prefault}}, //open {1, 0, 0, 0, {prestart, prefault, prestart,
 241:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   prefault, precharge, prefault, preclosing, prefault}},//charging {1, 1, 0,
 242:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   1, {prestart, prestart, prestart, prestart, precharge, prefault,
 243:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   preclosing, preclosed}},//closing {1, 1, 1, 1, {prefault, prefault,
 244:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   prefault, preopening, prefault, prefault, prefault, preclosed}},//closed
 245:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   {0, 1, 1, 0, {prestart, preopening, prestart, preopening, preopening,
 246:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   prefault, prestart, preopening}}, // opening {0, 0, 0, 0, {fault, fault,
 247:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** //   fault, fault, fault, fault, fault, fault}} // fault
 248:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** // };
 249:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** */
 250:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 251:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** motorContactor motor = {OPEN, OPEN, OPEN, NO_FAULT, 0};
 252:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** Precharge motorPre = {OPEN, OPEN, OPEN, OPEN, OPEN, NO_FAULT, 0};
 253:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** Precharge arrayPre = {OPEN, OPEN, OPEN, OPEN, OPEN, NO_FAULT, 0};
 254:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** int time;
 255:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** int BPS_safe;
 256:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** int moco_fault;
 257:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** int fault[5];
 258:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** int on = 1;
 259:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** int cycles = 0;
 260:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 261:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** static void contactorTask(void *pvParamters)
 262:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** {
  74              		.loc 1 262 1 view -0
  75              		.cfi_startproc
  76              		@ Volatile: function does not return.
  77              		@ args = 0, pretend = 0, frame = 0
  78              		@ frame_needed = 0, uses_anonymous_args = 0
  79              		.loc 1 262 1 is_stmt 0 view .LVU8
  80 0000 08B5     		push	{r3, lr}
  81              	.LCFI1:
  82              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccCmNqaZ.s 			page 7


  83              		.cfi_offset 3, -8
  84              		.cfi_offset 14, -4
 263:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_Delay(5000);
  85              		.loc 1 263 3 is_stmt 1 view .LVU9
  86 0002 41F28830 		movw	r0, #5000
  87              	.LVL5:
  88              		.loc 1 263 3 is_stmt 0 view .LVU10
  89 0006 FFF7FEFF 		bl	HAL_Delay
  90              	.LVL6:
  91              	.L5:
 264:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   while (1)
  92              		.loc 1 264 3 is_stmt 1 discriminator 1 view .LVU11
 265:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   {
 266:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     time = HAL_GetTick();
  93              		.loc 1 266 5 discriminator 1 view .LVU12
  94              		.loc 1 266 12 is_stmt 0 discriminator 1 view .LVU13
  95 000a FFF7FEFF 		bl	HAL_GetTick
  96              	.LVL7:
  97              		.loc 1 266 10 discriminator 1 view .LVU14
  98 000e 2C4B     		ldr	r3, .L7
  99 0010 1860     		str	r0, [r3]
 267:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // blinky tester
 268:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     #ifdef blinky
 269:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     m_pre_enable(1);
 100              		.loc 1 269 5 is_stmt 1 discriminator 1 view .LVU15
 101 0012 0122     		movs	r2, #1
 102 0014 0821     		movs	r1, #8
 103 0016 4FF09040 		mov	r0, #1207959552
 104 001a FFF7FEFF 		bl	HAL_GPIO_WritePin
 105              	.LVL8:
 270:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     mt_fault(1);
 106              		.loc 1 270 5 discriminator 1 view .LVU16
 107 001e 0122     		movs	r2, #1
 108 0020 4FF48061 		mov	r1, #1024
 109 0024 4FF09040 		mov	r0, #1207959552
 110 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
 111              	.LVL9:
 271:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     ms_fault(1);
 112              		.loc 1 271 5 discriminator 1 view .LVU17
 113 002c 0122     		movs	r2, #1
 114 002e 4FF48071 		mov	r1, #256
 115 0032 4FF09040 		mov	r0, #1207959552
 116 0036 FFF7FEFF 		bl	HAL_GPIO_WritePin
 117              	.LVL10:
 272:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     at_fault(1);
 118              		.loc 1 272 5 discriminator 1 view .LVU18
 119 003a 224C     		ldr	r4, .L7+4
 120 003c 0122     		movs	r2, #1
 121 003e 0821     		movs	r1, #8
 122 0040 2046     		mov	r0, r4
 123 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
 124              	.LVL11:
 273:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     as_fault(1);
 125              		.loc 1 273 5 discriminator 1 view .LVU19
 126 0046 0122     		movs	r2, #1
 127 0048 4FF40071 		mov	r1, #512
 128 004c 4FF09040 		mov	r0, #1207959552
ARM GAS  /tmp/ccCmNqaZ.s 			page 8


 129 0050 FFF7FEFF 		bl	HAL_GPIO_WritePin
 130              	.LVL12:
 274:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     a_pre_enable(1);
 131              		.loc 1 274 5 discriminator 1 view .LVU20
 132 0054 0122     		movs	r2, #1
 133 0056 8021     		movs	r1, #128
 134 0058 4FF09040 		mov	r0, #1207959552
 135 005c FFF7FEFF 		bl	HAL_GPIO_WritePin
 136              	.LVL13:
 275:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     HAL_Delay(1000);
 137              		.loc 1 275 5 discriminator 1 view .LVU21
 138 0060 4FF47A70 		mov	r0, #1000
 139 0064 FFF7FEFF 		bl	HAL_Delay
 140              	.LVL14:
 276:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     m_pre_enable(0);
 141              		.loc 1 276 5 discriminator 1 view .LVU22
 142 0068 0022     		movs	r2, #0
 143 006a 0821     		movs	r1, #8
 144 006c 4FF09040 		mov	r0, #1207959552
 145 0070 FFF7FEFF 		bl	HAL_GPIO_WritePin
 146              	.LVL15:
 277:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     mt_fault(0);
 147              		.loc 1 277 5 discriminator 1 view .LVU23
 148 0074 0022     		movs	r2, #0
 149 0076 4FF48061 		mov	r1, #1024
 150 007a 4FF09040 		mov	r0, #1207959552
 151 007e FFF7FEFF 		bl	HAL_GPIO_WritePin
 152              	.LVL16:
 278:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     ms_fault(0);
 153              		.loc 1 278 5 discriminator 1 view .LVU24
 154 0082 0022     		movs	r2, #0
 155 0084 4FF48071 		mov	r1, #256
 156 0088 4FF09040 		mov	r0, #1207959552
 157 008c FFF7FEFF 		bl	HAL_GPIO_WritePin
 158              	.LVL17:
 279:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     at_fault(0);
 159              		.loc 1 279 5 discriminator 1 view .LVU25
 160 0090 0022     		movs	r2, #0
 161 0092 0821     		movs	r1, #8
 162 0094 2046     		mov	r0, r4
 163 0096 FFF7FEFF 		bl	HAL_GPIO_WritePin
 164              	.LVL18:
 280:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     as_fault(0);
 165              		.loc 1 280 5 discriminator 1 view .LVU26
 166 009a 0022     		movs	r2, #0
 167 009c 4FF40071 		mov	r1, #512
 168 00a0 4FF09040 		mov	r0, #1207959552
 169 00a4 FFF7FEFF 		bl	HAL_GPIO_WritePin
 170              	.LVL19:
 281:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     a_pre_enable(0);
 171              		.loc 1 281 5 discriminator 1 view .LVU27
 172 00a8 0022     		movs	r2, #0
 173 00aa 8021     		movs	r1, #128
 174 00ac 4FF09040 		mov	r0, #1207959552
 175 00b0 FFF7FEFF 		bl	HAL_GPIO_WritePin
 176              	.LVL20:
 282:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     HAL_Delay(1000);
ARM GAS  /tmp/ccCmNqaZ.s 			page 9


 177              		.loc 1 282 5 discriminator 1 view .LVU28
 178 00b4 4FF47A70 		mov	r0, #1000
 179 00b8 FFF7FEFF 		bl	HAL_Delay
 180              	.LVL21:
 264:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   {
 181              		.loc 1 264 9 discriminator 1 view .LVU29
 182 00bc A5E7     		b	.L5
 183              	.L8:
 184 00be 00BF     		.align	2
 185              	.L7:
 186 00c0 00000000 		.word	time
 187 00c4 00040048 		.word	1207960576
 188              		.cfi_endproc
 189              	.LFE295:
 191              		.section	.text.canTask,"ax",%progbits
 192              		.align	1
 193              		.syntax unified
 194              		.thumb
 195              		.thumb_func
 197              	canTask:
 198              	.LFB296:
 283:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     #endif
 284:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 285:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     #ifdef contactorcode
 286:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // Read Inputs
 287:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     motor.enable_in = (m_direct);
 288:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     motor.sense = m_sense;
 289:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 290:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     motorPre.pre_ready = m_pre_ready;
 291:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     motorPre.pre_sense = m_pre_sense;
 292:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // motorPre.sense_in = motor.sense;
 293:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 294:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     arrayPre.pre_ready = a_pre_ready;
 295:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     arrayPre.pre_sense = a_pre_sense;
 296:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 297:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     motorPre.enable_out = m_pre_ready;
 298:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     arrayPre.enable_out = a_pre_ready;
 299:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 300:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //Update States and Faults
 301:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     if(motor.fault==NO_FAULT){
 302:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       if(motor.state==OPEN && motor.enable_in==CLOSED){ // closing motor
 303:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         if(motor.start_time==0){ //
 304:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motor.start_time = time;
 305:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else if(motor.start_time+1000<time){
 306:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motor.fault = MT_FAULT;
 307:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else if(motor.sense==CLOSED){
 308:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motorPre.pre_sense = CLOSED;
 309:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motor.state = CLOSED;
 310:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motor.start_time = 0;
 311:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }
 312:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       }else if(motor.state==CLOSED && motor.enable_in == OPEN){ // opening motor
 313:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         if(motor.start_time == 0){
 314:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motor.start_time = time;
 315:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else if(motor.start_time+1000<time){
 316:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motor.fault = MT_FAULT;
 317:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else if(motor.sense==OPEN){
 318:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motor.state = OPEN;
ARM GAS  /tmp/ccCmNqaZ.s 			page 10


 319:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motorPre.sense_in = OPEN;
 320:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motor.start_time = 0;
 321:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }
 322:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       }else if(motor.state == OPEN && motor.enable_in == OPEN){
 323:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         if(motor.sense == CLOSED){
 324:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           if(motor.start_time==0){
 325:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****             motor.start_time = time;
 326:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           }else if(motor.start_time+10>time){
 327:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****             motor.fault = MS_FAULT;
 328:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           }
 329:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else{
 330:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motor.start_time = 0;
 331:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }
 332:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       }else if(motor.state == CLOSED && motor.enable_in == CLOSED){
 333:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         if(motor.sense == OPEN){
 334:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           if(motor.start_time==0){
 335:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****             motor.start_time = time;
 336:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           }else if(motor.start_time+10>time){
 337:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****             motor.fault =MS_FAULT;
 338:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           }
 339:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else{
 340:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motor.start_time = 0;
 341:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }
 342:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       }
 343:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     }else{
 344:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       fault[motor.fault] = 1;
 345:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     }
 346:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 347:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     if(motorPre.fault==NO_FAULT){
 348:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       if(motorPre.state==OPEN && motorPre.sense_in==CLOSED){ // closing motorPre
 349:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         if(motorPre.start_time==0){ //
 350:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motorPre.start_time = time;
 351:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else if(motorPre.start_time+1000<time){
 352:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motorPre.fault = MT_FAULT;
 353:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else if(motorPre.pre_sense==CLOSED){
 354:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motorPre.state = CLOSED;
 355:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motorPre.start_time = 0;
 356:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }
 357:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       }else if(motorPre.state==CLOSED && motorPre.sense_in == OPEN){ // opening motorPre
 358:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         if(motorPre.start_time == 0){
 359:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motorPre.start_time = time;
 360:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else if(motorPre.start_time+1000<time){
 361:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motorPre.fault = MT_FAULT;
 362:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else if(motorPre.pre_sense==OPEN){
 363:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motorPre.state = OPEN;
 364:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motorPre.start_time = 0;
 365:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }
 366:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       }else if(motorPre.state == OPEN && motorPre.sense_in == OPEN){
 367:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         if(motorPre.pre_sense == CLOSED){
 368:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           if(motorPre.start_time==0){
 369:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****             motorPre.start_time = time;
 370:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           }else if(motorPre.start_time+10>time){
 371:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****             motorPre.fault = MS_FAULT;
 372:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           }
 373:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else{
 374:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motorPre.start_time = 0;
 375:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }
ARM GAS  /tmp/ccCmNqaZ.s 			page 11


 376:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       }else if(motorPre.state == CLOSED && motorPre.sense_in == CLOSED){
 377:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         if(motorPre.pre_sense == OPEN){
 378:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           if(motorPre.start_time==0){
 379:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****             motorPre.start_time = time;
 380:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           }else if(motorPre.start_time+10>time){
 381:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****             motorPre.fault = MS_FAULT;
 382:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           }
 383:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else{
 384:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           motorPre.start_time = 0;
 385:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }
 386:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       }
 387:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     }else{
 388:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       fault[motorPre.fault] = 1;
 389:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     }
 390:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     
 391:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     if(arrayPre.fault==NO_FAULT){
 392:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       if(arrayPre.state==OPEN && arrayPre.sense_in==CLOSED){ // closing arrayPre
 393:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         if(arrayPre.start_time==0){ //
 394:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           arrayPre.start_time = time;
 395:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else if(arrayPre.start_time+1000<time){
 396:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           arrayPre.fault = AT_FAULT;
 397:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else if(arrayPre.pre_sense==CLOSED){
 398:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           arrayPre.state = CLOSED;
 399:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           arrayPre.start_time = 0;
 400:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }
 401:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       }else if(arrayPre.state==CLOSED && arrayPre.sense_in == OPEN){ // opening arrayPre
 402:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         if(arrayPre.start_time == 0){
 403:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           arrayPre.start_time = time;
 404:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else if(arrayPre.start_time+1000<time){
 405:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           arrayPre.fault = AT_FAULT;
 406:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else if(arrayPre.pre_sense==OPEN){
 407:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           arrayPre.state = OPEN;
 408:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           arrayPre.start_time = 0;
 409:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }
 410:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       }else if(arrayPre.state == OPEN && arrayPre.sense_in == OPEN){
 411:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         if(arrayPre.pre_sense == CLOSED){
 412:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           if(arrayPre.start_time==0){
 413:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****             arrayPre.start_time = time;
 414:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           }else if(arrayPre.start_time+10>time){
 415:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****             arrayPre.fault = AS_FAULT;
 416:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           }
 417:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else{
 418:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           arrayPre.start_time = 0;
 419:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }
 420:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       }else if(arrayPre.state == CLOSED && arrayPre.sense_in == CLOSED){
 421:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         if(arrayPre.pre_sense == OPEN){
 422:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           if(arrayPre.start_time==0){
 423:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****             arrayPre.start_time = time;
 424:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           }else if(arrayPre.start_time+10>time){
 425:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****             arrayPre.fault = AS_FAULT;
 426:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           }
 427:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }else{
 428:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****           arrayPre.start_time = 0;
 429:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         }
 430:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       }
 431:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     }else{
 432:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       fault[arrayPre.fault] = 1;
ARM GAS  /tmp/ccCmNqaZ.s 			page 12


 433:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     }
 434:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     if(arrayPre.start_time == 0 && arrayPre.enable_out == CLOSED){
 435:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       arrayPre.start_time = time;
 436:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     }
 437:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 438:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //Check Faults
 439:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 440:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     if ((motor.fault | motorPre.fault | arrayPre.fault | BPS_safe | moco_fault) != NO_FAULT)
 441:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     {
 442:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       motorPre.enable_out = 0;
 443:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       arrayPre.enable_out = 0;
 444:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       //sense fault on CAN
 445:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       // at_fault(1);
 446:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       if(arrayPre.fault==AS_FAULT){
 447:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****         at_fault(1);
 448:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       }
 449:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       
 450:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     }else{
 451:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****       at_fault(0);
 452:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     }
 453:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 454:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // m_enable(motor.enable_out);
 455:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     m_pre_enable(motorPre.enable_out);
 456:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     a_pre_enable(arrayPre.enable_out);
 457:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // a_pre_enable(1);
 458:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 459:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     #endif
 460:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 461:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // HAL_Delay(500);
 462:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // HAL_GPIO_WritePin(LD3_GPIO_Port, LD3_Pin, HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_5));
 463:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   if ((motor.enable_in == 1) && (motor.fault == 0)) {
 464:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     if (){
 465:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //       motor.fault = 1;
 466:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     }
 467:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 468:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     if (motor.enable_out == 0) {
 469:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //       motor.enable_out = 1;
 470:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //       motor.start_time = HAL_GetTick();
 471:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     } else if (motor.sense_out == 0) {
 472:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //       if (HAL_GetTick() > motor.start_time + 1000) {
 473:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //         motor.timeout = 1;
 474:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //       }
 475:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 476:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     }
 477:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   }else if(motor.enable_in == 0 && motor.fault == 0){
 478:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     if(motor.enable_out = 1){
 479:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //       motor.enable_out = 0;
 480:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //       motor.start_time = HAL_GetTick();
 481:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     }else if(motor.sense_out == 1){
 482:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //       if(HAL_GetTick()>motor.start_time+1000){
 483:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //         motor.timeout = 1;
 484:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //       }
 485:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     }
 486:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   }
 487:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 488:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   if ((arrayPre.enable_out == 0) && (arrayPre.pre_sense == 0) &&
 489:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //       (arrayPre.fault == 0)) {
ARM GAS  /tmp/ccCmNqaZ.s 			page 13


 490:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     // if contactor was already open (state = 0) and CAN
 491:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     // tells it to close and no fault
 492:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     arrayPre.enable_out = 1;  // enable contactor
 493:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     arrayPre.start_time = HAL_GetTick();
 494:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   }
 495:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // }
 496:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 497:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // contactor logic
 498:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 499:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // if ((HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_6)) ) {
 500:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   // HAL_GPIO_TogglePin(GPIOA, GPIO_PIN_1);
 501:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   HAL_Delay(500);
 502:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   // HAL_GPIO_WritePin(GPIOA, GPIO_PIN_1, 1);
 503:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   m_state = 1;
 504:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // }else {
 505:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   HAL_GPIO_WritePin(GPIOA, GPIO_PIN_1, 0);
 506:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // }
 507:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 508:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // HAL_GPIO_WritePin(GPIOA, GPIO_PIN_1, ~HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_7));
 509:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // int output = HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_6);
 510:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // int out1 = output;
 511:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // if(output!=0){
 512:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   out1=0;
 513:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // }else{
 514:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   out1=1;
 515:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // }
 516:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // HAL_GPIO_WritePin(GPIOA, ( GPIO_PIN_6), out1);
 517:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // HAL_GPIO_WritePin(GPIOA, (GPIO_PIN_1),out1);//HAL_GPIO_ReadPin(GPIOB,
 518:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // GPIO_PIN_6)); HAL_GPIO_WritePin(GPIOA, (GPIO_PIN_4), output);//
 519:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_6));
 520:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 521:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // HAL_GPIO_WritePin(GPIOA, GPIO_PIN_1, 1);
 522:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // m_enable(GPIO_PIN_SET);
 523:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 524:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // // if (m_CAN == 0) {  // if CAN tells contactor to close
 525:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // //   m_enable(0);
 526:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // //   m_state = 0;
 527:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // // }
 528:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // if (a_CAN == 0) {  // if CAN tells contactor to close
 529:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   a_enable(0);
 530:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   a_state = 0;
 531:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // }
 532:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 533:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // if ((m_sense == 1) && (m_pre_ready == 1) && (m_fault == 0) &&
 534:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     (m_pre_fault == 0)) {  // if m_contactor is closed (sense = 0) and
 535:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //                            // precharge ready and neither has faulted
 536:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   m_pre_enable(1);
 537:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   m_pre_state = 1;
 538:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // }
 539:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // if ((a_sense == 1) && (a_pre_ready == 1) && (a_fault == 0) &&
 540:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     (a_pre_fault == 0)) {  // if a_contactor is closed (sense = 0) and
 541:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //                            // precharge ready and neither has faulted
 542:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   a_pre_enable(1);
 543:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   a_pre_state = 1;
 544:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // }
 545:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 546:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // if ((m_sense == 0) &&
ARM GAS  /tmp/ccCmNqaZ.s 			page 14


 547:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     (m_pre_sense ==
 548:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //      1)) {          // if m contactor open and m_pre contactor is closed
 549:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   m_pre_enable(0);  // turn m_pre contactor off
 550:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   m_pre_state = 0;  // set state info off
 551:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // }
 552:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // if ((a_sense == 0) &&
 553:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //     (a_pre_sense ==
 554:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //      1)) {          // if a contactor open and a_pre contactor is closed
 555:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   a_pre_enable(0);  // turn a_pre contactor off
 556:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   a_pre_state = 0;  // set state info off
 557:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // }
 558:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 559:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // if ((m_fault == 1) || (m_pre_fault == 1)) {  // if either faults
 560:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   m_pre_enable(
 561:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //       0);  // disable precharge for saftey and send fault message over CAN
 562:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   m_pre_state = 0;
 563:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // }
 564:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // if ((a_fault == 1) || (a_pre_fault == 1)) {  // if either faults
 565:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   a_pre_enable(
 566:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //       0);  // disable precharge for saftey and send fault message over CAN
 567:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     //   a_pre_state = 0;
 568:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     // }
 569:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   }
 570:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** }
 571:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 572:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** StaticTask_t task_buffer;
 573:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** StackType_t task_stack[configMINIMAL_STACK_SIZE];
 574:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 575:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 576:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 577:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** static void canTask(void *pvParamters)
 578:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** {
 199              		.loc 1 578 1 view -0
 200              		.cfi_startproc
 201              		@ Volatile: function does not return.
 202              		@ args = 0, pretend = 0, frame = 72
 203              		@ frame_needed = 0, uses_anonymous_args = 0
 204              	.LVL22:
 205              		.loc 1 578 1 is_stmt 0 view .LVU31
 206 0000 00B5     		push	{lr}
 207              	.LCFI2:
 208              		.cfi_def_cfa_offset 4
 209              		.cfi_offset 14, -4
 210 0002 93B0     		sub	sp, sp, #76
 211              	.LCFI3:
 212              		.cfi_def_cfa_offset 80
 213              	.LVL23:
 214              	.L13:
 579:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   while(1){
 215              		.loc 1 579 3 is_stmt 1 view .LVU32
 216              	.LBB2:
 580:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // HAL_Delay(1000);
 581:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   CAN_FilterTypeDef  sFilterConfig;
 217              		.loc 1 581 3 view .LVU33
 582:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   sFilterConfig.FilterBank = 0;
 218              		.loc 1 582 3 view .LVU34
 219              		.loc 1 582 28 is_stmt 0 view .LVU35
ARM GAS  /tmp/ccCmNqaZ.s 			page 15


 220 0004 0023     		movs	r3, #0
 221 0006 0D93     		str	r3, [sp, #52]
 583:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   sFilterConfig.FilterMode = CAN_FILTERMODE_IDMASK;
 222              		.loc 1 583 3 is_stmt 1 view .LVU36
 223              		.loc 1 583 28 is_stmt 0 view .LVU37
 224 0008 0E93     		str	r3, [sp, #56]
 584:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   sFilterConfig.FilterScale = CAN_FILTERSCALE_32BIT;
 225              		.loc 1 584 3 is_stmt 1 view .LVU38
 226              		.loc 1 584 29 is_stmt 0 view .LVU39
 227 000a 0122     		movs	r2, #1
 228 000c 0F92     		str	r2, [sp, #60]
 585:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   sFilterConfig.FilterIdHigh = 0x0000;
 229              		.loc 1 585 3 is_stmt 1 view .LVU40
 230              		.loc 1 585 30 is_stmt 0 view .LVU41
 231 000e 0893     		str	r3, [sp, #32]
 586:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   sFilterConfig.FilterIdLow = 0x0000;
 232              		.loc 1 586 3 is_stmt 1 view .LVU42
 233              		.loc 1 586 29 is_stmt 0 view .LVU43
 234 0010 0993     		str	r3, [sp, #36]
 587:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   sFilterConfig.FilterMaskIdHigh = 0x0000;
 235              		.loc 1 587 3 is_stmt 1 view .LVU44
 236              		.loc 1 587 34 is_stmt 0 view .LVU45
 237 0012 0A93     		str	r3, [sp, #40]
 588:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   sFilterConfig.FilterMaskIdLow = 0x0000;
 238              		.loc 1 588 3 is_stmt 1 view .LVU46
 239              		.loc 1 588 33 is_stmt 0 view .LVU47
 240 0014 0B93     		str	r3, [sp, #44]
 589:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   sFilterConfig.FilterFIFOAssignment = CAN_RX_FIFO0;
 241              		.loc 1 589 3 is_stmt 1 view .LVU48
 242              		.loc 1 589 38 is_stmt 0 view .LVU49
 243 0016 0C93     		str	r3, [sp, #48]
 590:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   sFilterConfig.FilterActivation = ENABLE;
 244              		.loc 1 590 3 is_stmt 1 view .LVU50
 245              		.loc 1 590 34 is_stmt 0 view .LVU51
 246 0018 1092     		str	r2, [sp, #64]
 591:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   sFilterConfig.SlaveStartFilterBank = 14;
 247              		.loc 1 591 3 is_stmt 1 view .LVU52
 248              		.loc 1 591 38 is_stmt 0 view .LVU53
 249 001a 0E21     		movs	r1, #14
 250 001c 1191     		str	r1, [sp, #68]
 592:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 593:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // setup can1 init
 594:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   hcan1->Init.Prescaler = 16;
 251              		.loc 1 594 3 is_stmt 1 view .LVU54
 252              		.loc 1 594 8 is_stmt 0 view .LVU55
 253 001e 1F49     		ldr	r1, .L17
 254 0020 0868     		ldr	r0, [r1]
 255              		.loc 1 594 25 view .LVU56
 256 0022 1021     		movs	r1, #16
 257 0024 4160     		str	r1, [r0, #4]
 595:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   hcan1->Init.Mode = CAN_MODE_LOOPBACK;
 258              		.loc 1 595 3 is_stmt 1 view .LVU57
 259              		.loc 1 595 20 is_stmt 0 view .LVU58
 260 0026 4FF08041 		mov	r1, #1073741824
 261 002a 8160     		str	r1, [r0, #8]
 596:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   hcan1->Init.SyncJumpWidth = CAN_SJW_1TQ;
 262              		.loc 1 596 3 is_stmt 1 view .LVU59
ARM GAS  /tmp/ccCmNqaZ.s 			page 16


 263              		.loc 1 596 29 is_stmt 0 view .LVU60
 264 002c C360     		str	r3, [r0, #12]
 597:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   hcan1->Init.TimeSeg1 = CAN_BS1_16TQ;
 265              		.loc 1 597 3 is_stmt 1 view .LVU61
 266              		.loc 1 597 24 is_stmt 0 view .LVU62
 267 002e 4FF47021 		mov	r1, #983040
 268 0032 0161     		str	r1, [r0, #16]
 598:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   hcan1->Init.TimeSeg2 = CAN_BS2_8TQ;
 269              		.loc 1 598 3 is_stmt 1 view .LVU63
 270              		.loc 1 598 24 is_stmt 0 view .LVU64
 271 0034 4FF4E001 		mov	r1, #7340032
 272 0038 4161     		str	r1, [r0, #20]
 599:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   hcan1->Init.TimeTriggeredMode = DISABLE;
 273              		.loc 1 599 3 is_stmt 1 view .LVU65
 274              		.loc 1 599 33 is_stmt 0 view .LVU66
 275 003a 0376     		strb	r3, [r0, #24]
 600:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   hcan1->Init.AutoBusOff = DISABLE;
 276              		.loc 1 600 3 is_stmt 1 view .LVU67
 277              		.loc 1 600 26 is_stmt 0 view .LVU68
 278 003c 4376     		strb	r3, [r0, #25]
 601:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   hcan1->Init.AutoWakeUp = DISABLE;
 279              		.loc 1 601 3 is_stmt 1 view .LVU69
 280              		.loc 1 601 26 is_stmt 0 view .LVU70
 281 003e 8376     		strb	r3, [r0, #26]
 602:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   hcan1->Init.AutoRetransmission = ENABLE;
 282              		.loc 1 602 3 is_stmt 1 view .LVU71
 283              		.loc 1 602 34 is_stmt 0 view .LVU72
 284 0040 C276     		strb	r2, [r0, #27]
 603:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   hcan1->Init.ReceiveFifoLocked = DISABLE;
 285              		.loc 1 603 3 is_stmt 1 view .LVU73
 286              		.loc 1 603 33 is_stmt 0 view .LVU74
 287 0042 0377     		strb	r3, [r0, #28]
 604:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 605:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // If TransmitFifoPriority is disabled, the hardware selects the mailbox based on the message ID 
 606:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // If enabled, the hardware uses a FIFO mechanism to select the mailbox based on the order of tra
 607:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   hcan1->Init.TransmitFifoPriority = ENABLE;
 288              		.loc 1 607 3 is_stmt 1 view .LVU75
 289              		.loc 1 607 36 is_stmt 0 view .LVU76
 290 0044 4277     		strb	r2, [r0, #29]
 608:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 609:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // initialize CAN1
 610:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   if (can_init(hcan1, &sFilterConfig) != CAN_OK) error_handler();
 291              		.loc 1 610 3 is_stmt 1 view .LVU77
 292              		.loc 1 610 7 is_stmt 0 view .LVU78
 293 0046 08A9     		add	r1, sp, #32
 294 0048 FFF7FEFF 		bl	can_init
 295              	.LVL24:
 296              		.loc 1 610 6 view .LVU79
 297 004c 0128     		cmp	r0, #1
 298 004e 20D1     		bne	.L15
 611:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   if (can_start(hcan1) != CAN_OK) error_handler();
 299              		.loc 1 611 3 is_stmt 1 view .LVU80
 300              		.loc 1 611 7 is_stmt 0 view .LVU81
 301 0050 124B     		ldr	r3, .L17
 302 0052 1868     		ldr	r0, [r3]
 303 0054 FFF7FEFF 		bl	can_start
 304              	.LVL25:
ARM GAS  /tmp/ccCmNqaZ.s 			page 17


 305              		.loc 1 611 6 view .LVU82
 306 0058 0128     		cmp	r0, #1
 307 005a 1CD1     		bne	.L16
 612:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 613:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   
 614:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // create payload to send
 615:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   CAN_TxHeaderTypeDef tx_header = {0};   
 308              		.loc 1 615 3 is_stmt 1 view .LVU83
 309              		.loc 1 615 23 is_stmt 0 view .LVU84
 310 005c 0023     		movs	r3, #0
 311 005e 0293     		str	r3, [sp, #8]
 312 0060 0393     		str	r3, [sp, #12]
 313 0062 0493     		str	r3, [sp, #16]
 314 0064 0593     		str	r3, [sp, #20]
 315 0066 0693     		str	r3, [sp, #24]
 316 0068 0793     		str	r3, [sp, #28]
 616:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   tx_header.StdId = 0x1;
 317              		.loc 1 616 3 is_stmt 1 view .LVU85
 318              		.loc 1 616 19 is_stmt 0 view .LVU86
 319 006a 0122     		movs	r2, #1
 320 006c 0292     		str	r2, [sp, #8]
 617:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   tx_header.RTR = CAN_RTR_DATA;
 321              		.loc 1 617 3 is_stmt 1 view .LVU87
 618:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   tx_header.IDE = CAN_ID_STD;
 322              		.loc 1 618 3 view .LVU88
 619:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   tx_header.DLC = 2;
 323              		.loc 1 619 3 view .LVU89
 324              		.loc 1 619 17 is_stmt 0 view .LVU90
 325 006e 0221     		movs	r1, #2
 326 0070 0691     		str	r1, [sp, #24]
 620:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   tx_header.TransmitGlobalTime = DISABLE;
 327              		.loc 1 620 3 is_stmt 1 view .LVU91
 621:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 622:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // send two payloads to 0x1
 623:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   uint8_t tx_data[8] = {0};
 328              		.loc 1 623 3 view .LVU92
 329              		.loc 1 623 11 is_stmt 0 view .LVU93
 330 0072 0093     		str	r3, [sp]
 331 0074 0193     		str	r3, [sp, #4]
 624:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   tx_data[0] = 0x01;
 332              		.loc 1 624 3 is_stmt 1 view .LVU94
 333              		.loc 1 624 14 is_stmt 0 view .LVU95
 334 0076 8DF80020 		strb	r2, [sp]
 625:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   tx_data[1] = 0x00;
 335              		.loc 1 625 3 is_stmt 1 view .LVU96
 626:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   //HAL_Delay(5000);
 627:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   if (can_send(hcan1, &tx_header, tx_data, portMAX_DELAY) != CAN_SENT) error_handler();
 336              		.loc 1 627 3 view .LVU97
 337              		.loc 1 627 7 is_stmt 0 view .LVU98
 338 007a 4FF0FF33 		mov	r3, #-1
 339 007e 6A46     		mov	r2, sp
 340 0080 02A9     		add	r1, sp, #8
 341 0082 0648     		ldr	r0, .L17
 342 0084 0068     		ldr	r0, [r0]
 343 0086 FFF7FEFF 		bl	can_send
 344              	.LVL26:
 345              		.loc 1 627 6 view .LVU99
ARM GAS  /tmp/ccCmNqaZ.s 			page 18


 346 008a 0228     		cmp	r0, #2
 347 008c BAD0     		beq	.L13
 348              		.loc 1 627 72 is_stmt 1 discriminator 1 view .LVU100
 349 008e FFF7FEFF 		bl	error_handler
 350              	.LVL27:
 351              	.L15:
 610:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   if (can_start(hcan1) != CAN_OK) error_handler();
 352              		.loc 1 610 50 discriminator 1 view .LVU101
 353 0092 FFF7FEFF 		bl	error_handler
 354              	.LVL28:
 355              	.L16:
 611:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 356              		.loc 1 611 35 discriminator 1 view .LVU102
 357 0096 FFF7FEFF 		bl	error_handler
 358              	.LVL29:
 359              	.L18:
 360 009a 00BF     		.align	2
 361              	.L17:
 362 009c 00000000 		.word	hcan1
 363              	.LBE2:
 364              		.cfi_endproc
 365              	.LFE296:
 367              		.section	.text.MX_GPIO_Init,"ax",%progbits
 368              		.align	1
 369              		.syntax unified
 370              		.thumb
 371              		.thumb_func
 373              	MX_GPIO_Init:
 374              	.LFB294:
 133:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
 375              		.loc 1 133 1 view -0
 376              		.cfi_startproc
 377              		@ args = 0, pretend = 0, frame = 32
 378              		@ frame_needed = 0, uses_anonymous_args = 0
 379 0000 70B5     		push	{r4, r5, r6, lr}
 380              	.LCFI4:
 381              		.cfi_def_cfa_offset 16
 382              		.cfi_offset 4, -16
 383              		.cfi_offset 5, -12
 384              		.cfi_offset 6, -8
 385              		.cfi_offset 14, -4
 386 0002 88B0     		sub	sp, sp, #32
 387              	.LCFI5:
 388              		.cfi_def_cfa_offset 48
 134:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   /* USER CODE BEGIN MX_GPIO_Init_1 */
 389              		.loc 1 134 3 view .LVU104
 134:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   /* USER CODE BEGIN MX_GPIO_Init_1 */
 390              		.loc 1 134 20 is_stmt 0 view .LVU105
 391 0004 0024     		movs	r4, #0
 392 0006 0394     		str	r4, [sp, #12]
 393 0008 0494     		str	r4, [sp, #16]
 394 000a 0594     		str	r4, [sp, #20]
 395 000c 0694     		str	r4, [sp, #24]
 396 000e 0794     		str	r4, [sp, #28]
 139:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOA_CLK_ENABLE();
 397              		.loc 1 139 3 is_stmt 1 view .LVU106
 398              	.LBB3:
ARM GAS  /tmp/ccCmNqaZ.s 			page 19


 139:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOA_CLK_ENABLE();
 399              		.loc 1 139 3 view .LVU107
 139:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOA_CLK_ENABLE();
 400              		.loc 1 139 3 view .LVU108
 401 0010 284B     		ldr	r3, .L21
 402 0012 DA6C     		ldr	r2, [r3, #76]
 403 0014 42F00402 		orr	r2, r2, #4
 404 0018 DA64     		str	r2, [r3, #76]
 139:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOA_CLK_ENABLE();
 405              		.loc 1 139 3 view .LVU109
 406 001a DA6C     		ldr	r2, [r3, #76]
 407 001c 02F00402 		and	r2, r2, #4
 408 0020 0092     		str	r2, [sp]
 139:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOA_CLK_ENABLE();
 409              		.loc 1 139 3 view .LVU110
 410 0022 009A     		ldr	r2, [sp]
 411              	.LBE3:
 139:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOA_CLK_ENABLE();
 412              		.loc 1 139 3 view .LVU111
 140:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOB_CLK_ENABLE();
 413              		.loc 1 140 3 view .LVU112
 414              	.LBB4:
 140:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOB_CLK_ENABLE();
 415              		.loc 1 140 3 view .LVU113
 140:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOB_CLK_ENABLE();
 416              		.loc 1 140 3 view .LVU114
 417 0024 DA6C     		ldr	r2, [r3, #76]
 418 0026 42F00102 		orr	r2, r2, #1
 419 002a DA64     		str	r2, [r3, #76]
 140:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOB_CLK_ENABLE();
 420              		.loc 1 140 3 view .LVU115
 421 002c DA6C     		ldr	r2, [r3, #76]
 422 002e 02F00102 		and	r2, r2, #1
 423 0032 0192     		str	r2, [sp, #4]
 140:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOB_CLK_ENABLE();
 424              		.loc 1 140 3 view .LVU116
 425 0034 019A     		ldr	r2, [sp, #4]
 426              	.LBE4:
 140:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   __HAL_RCC_GPIOB_CLK_ENABLE();
 427              		.loc 1 140 3 view .LVU117
 141:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 428              		.loc 1 141 3 view .LVU118
 429              	.LBB5:
 141:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 430              		.loc 1 141 3 view .LVU119
 141:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 431              		.loc 1 141 3 view .LVU120
 432 0036 DA6C     		ldr	r2, [r3, #76]
 433 0038 42F00202 		orr	r2, r2, #2
 434 003c DA64     		str	r2, [r3, #76]
 141:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 435              		.loc 1 141 3 view .LVU121
 436 003e DB6C     		ldr	r3, [r3, #76]
 437 0040 03F00203 		and	r3, r3, #2
 438 0044 0293     		str	r3, [sp, #8]
 141:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 439              		.loc 1 141 3 view .LVU122
ARM GAS  /tmp/ccCmNqaZ.s 			page 20


 440 0046 029B     		ldr	r3, [sp, #8]
 441              	.LBE5:
 141:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 442              		.loc 1 141 3 view .LVU123
 144:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****                     GPIO_PIN_RESET);
 443              		.loc 1 144 3 view .LVU124
 444 0048 2246     		mov	r2, r4
 445 004a 40F28971 		movw	r1, #1929
 446 004e 4FF09040 		mov	r0, #1207959552
 447 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 448              	.LVL30:
 148:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 449              		.loc 1 148 3 view .LVU125
 450 0056 184D     		ldr	r5, .L21+4
 451 0058 2246     		mov	r2, r4
 452 005a 0821     		movs	r1, #8
 453 005c 2846     		mov	r0, r5
 454 005e FFF7FEFF 		bl	HAL_GPIO_WritePin
 455              	.LVL31:
 151:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 456              		.loc 1 151 3 view .LVU126
 151:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 457              		.loc 1 151 23 is_stmt 0 view .LVU127
 458 0062 1223     		movs	r3, #18
 459 0064 0393     		str	r3, [sp, #12]
 152:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 460              		.loc 1 152 3 is_stmt 1 view .LVU128
 152:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 461              		.loc 1 152 24 is_stmt 0 view .LVU129
 462 0066 0494     		str	r4, [sp, #16]
 153:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 463              		.loc 1 153 3 is_stmt 1 view .LVU130
 153:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 464              		.loc 1 153 24 is_stmt 0 view .LVU131
 465 0068 0594     		str	r4, [sp, #20]
 154:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 466              		.loc 1 154 3 is_stmt 1 view .LVU132
 467 006a 03A9     		add	r1, sp, #12
 468 006c 4FF09040 		mov	r0, #1207959552
 469 0070 FFF7FEFF 		bl	HAL_GPIO_Init
 470              	.LVL32:
 157:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 471              		.loc 1 157 3 view .LVU133
 157:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 472              		.loc 1 157 23 is_stmt 0 view .LVU134
 473 0074 40F28973 		movw	r3, #1929
 474 0078 0393     		str	r3, [sp, #12]
 158:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 475              		.loc 1 158 3 is_stmt 1 view .LVU135
 158:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 476              		.loc 1 158 24 is_stmt 0 view .LVU136
 477 007a 0126     		movs	r6, #1
 478 007c 0496     		str	r6, [sp, #16]
 159:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 479              		.loc 1 159 3 is_stmt 1 view .LVU137
 159:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 480              		.loc 1 159 24 is_stmt 0 view .LVU138
ARM GAS  /tmp/ccCmNqaZ.s 			page 21


 481 007e 0594     		str	r4, [sp, #20]
 160:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 482              		.loc 1 160 3 is_stmt 1 view .LVU139
 160:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 483              		.loc 1 160 25 is_stmt 0 view .LVU140
 484 0080 0694     		str	r4, [sp, #24]
 161:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 485              		.loc 1 161 3 is_stmt 1 view .LVU141
 486 0082 03A9     		add	r1, sp, #12
 487 0084 4FF09040 		mov	r0, #1207959552
 488 0088 FFF7FEFF 		bl	HAL_GPIO_Init
 489              	.LVL33:
 172:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 490              		.loc 1 172 3 view .LVU142
 172:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 491              		.loc 1 172 23 is_stmt 0 view .LVU143
 492 008c 0823     		movs	r3, #8
 493 008e 0393     		str	r3, [sp, #12]
 173:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 494              		.loc 1 173 3 is_stmt 1 view .LVU144
 173:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 495              		.loc 1 173 24 is_stmt 0 view .LVU145
 496 0090 0496     		str	r6, [sp, #16]
 174:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 497              		.loc 1 174 3 is_stmt 1 view .LVU146
 174:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 498              		.loc 1 174 24 is_stmt 0 view .LVU147
 499 0092 0594     		str	r4, [sp, #20]
 175:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 500              		.loc 1 175 3 is_stmt 1 view .LVU148
 175:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 501              		.loc 1 175 25 is_stmt 0 view .LVU149
 502 0094 0694     		str	r4, [sp, #24]
 176:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 503              		.loc 1 176 3 is_stmt 1 view .LVU150
 504 0096 03A9     		add	r1, sp, #12
 505 0098 2846     		mov	r0, r5
 506 009a FFF7FEFF 		bl	HAL_GPIO_Init
 507              	.LVL34:
 179:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 508              		.loc 1 179 3 view .LVU151
 179:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 509              		.loc 1 179 23 is_stmt 0 view .LVU152
 510 009e 3123     		movs	r3, #49
 511 00a0 0393     		str	r3, [sp, #12]
 180:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 512              		.loc 1 180 3 is_stmt 1 view .LVU153
 180:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 513              		.loc 1 180 24 is_stmt 0 view .LVU154
 514 00a2 0494     		str	r4, [sp, #16]
 181:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 515              		.loc 1 181 3 is_stmt 1 view .LVU155
 181:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 516              		.loc 1 181 24 is_stmt 0 view .LVU156
 517 00a4 0594     		str	r4, [sp, #20]
 182:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 518              		.loc 1 182 3 is_stmt 1 view .LVU157
ARM GAS  /tmp/ccCmNqaZ.s 			page 22


 519 00a6 03A9     		add	r1, sp, #12
 520 00a8 2846     		mov	r0, r5
 521 00aa FFF7FEFF 		bl	HAL_GPIO_Init
 522              	.LVL35:
 186:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 523              		.loc 1 186 1 is_stmt 0 view .LVU158
 524 00ae 08B0     		add	sp, sp, #32
 525              	.LCFI6:
 526              		.cfi_def_cfa_offset 16
 527              		@ sp needed
 528 00b0 70BD     		pop	{r4, r5, r6, pc}
 529              	.L22:
 530 00b2 00BF     		.align	2
 531              	.L21:
 532 00b4 00100240 		.word	1073876992
 533 00b8 00040048 		.word	1207960576
 534              		.cfi_endproc
 535              	.LFE294:
 537              		.section	.rodata.main.str1.4,"aMS",%progbits,1
 538              		.align	2
 539              	.LC0:
 540 0000 63616E20 		.ascii	"can task\000"
 540      7461736B 
 540      00
 541 0009 000000   		.align	2
 542              	.LC1:
 543 000c 636F6E74 		.ascii	"contactor task\000"
 543      6163746F 
 543      72207461 
 543      736B00
 544              		.section	.text.main,"ax",%progbits
 545              		.align	1
 546              		.global	main
 547              		.syntax unified
 548              		.thumb
 549              		.thumb_func
 551              	main:
 552              	.LFB297:
 628:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** }
 629:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** }
 630:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 631:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** int main()
 632:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** {
 553              		.loc 1 632 1 is_stmt 1 view -0
 554              		.cfi_startproc
 555              		@ Volatile: function does not return.
 556              		@ args = 0, pretend = 0, frame = 0
 557              		@ frame_needed = 0, uses_anonymous_args = 0
 558 0000 00B5     		push	{lr}
 559              	.LCFI7:
 560              		.cfi_def_cfa_offset 4
 561              		.cfi_offset 14, -4
 562 0002 85B0     		sub	sp, sp, #20
 563              	.LCFI8:
 564              		.cfi_def_cfa_offset 24
 633:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_Init();
 565              		.loc 1 633 3 view .LVU160
ARM GAS  /tmp/ccCmNqaZ.s 			page 23


 566 0004 FFF7FEFF 		bl	HAL_Init
 567              	.LVL36:
 634:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   HAL_MspInit();
 568              		.loc 1 634 3 view .LVU161
 569 0008 FFF7FEFF 		bl	HAL_MspInit
 570              	.LVL37:
 635:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   MX_GPIO_Init();
 571              		.loc 1 635 3 view .LVU162
 572 000c FFF7FEFF 		bl	MX_GPIO_Init
 573              	.LVL38:
 636:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   SystemClock_Config();
 574              		.loc 1 636 3 view .LVU163
 575 0010 FFF7FEFF 		bl	SystemClock_Config
 576              	.LVL39:
 637:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 638:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   
 639:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   as_fault(1);
 577              		.loc 1 639 3 view .LVU164
 578 0014 0122     		movs	r2, #1
 579 0016 4FF40071 		mov	r1, #512
 580 001a 4FF09040 		mov	r0, #1207959552
 581 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
 582              	.LVL40:
 640:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // HAL_Delay(5000);
 641:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // as_fault(0);
 642:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 643:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // __HAL_RCC_GPIOB_CLK_ENABLE(); // enable clock for GPIOA
 644:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // HAL_GPIO_Init(GPIOB, &led_config); // initialize GPIOA with led_config
 645:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 646:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // while(1){
 647:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   //     // HAL_GPIO_TogglePin(GPIOB, GPIO_PIN_3);
 648:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   //     // update
 649:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 650:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   //     // error: send can error message
 651:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   //     HAL_Delay(1000);
 652:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   // }
 653:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   xTaskCreateStatic(canTask, "can task", configMINIMAL_STACK_SIZE,
 583              		.loc 1 653 3 view .LVU165
 584 0022 0D4D     		ldr	r5, .L25
 585 0024 0295     		str	r5, [sp, #8]
 586 0026 0D4C     		ldr	r4, .L25+4
 587 0028 0194     		str	r4, [sp, #4]
 588 002a 0123     		movs	r3, #1
 589 002c 0093     		str	r3, [sp]
 590 002e 0023     		movs	r3, #0
 591 0030 8022     		movs	r2, #128
 592 0032 0B49     		ldr	r1, .L25+8
 593 0034 0B48     		ldr	r0, .L25+12
 594 0036 FFF7FEFF 		bl	xTaskCreateStatic
 595              	.LVL41:
 654:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****     NULL, tskIDLE_PRIORITY + 1, task_stack, &task_buffer);
 655:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   xTaskCreateStatic(contactorTask, "contactor task", configMINIMAL_STACK_SIZE,
 596              		.loc 1 655 3 view .LVU166
 597 003a 0295     		str	r5, [sp, #8]
 598 003c 0194     		str	r4, [sp, #4]
 599 003e 0223     		movs	r3, #2
 600 0040 0093     		str	r3, [sp]
ARM GAS  /tmp/ccCmNqaZ.s 			page 24


 601 0042 0023     		movs	r3, #0
 602 0044 8022     		movs	r2, #128
 603 0046 0849     		ldr	r1, .L25+16
 604 0048 0848     		ldr	r0, .L25+20
 605 004a FFF7FEFF 		bl	xTaskCreateStatic
 606              	.LVL42:
 656:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****                     NULL, tskIDLE_PRIORITY + 2, task_stack, &task_buffer);
 657:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 658:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   vTaskStartScheduler();
 607              		.loc 1 658 3 view .LVU167
 608 004e FFF7FEFF 		bl	vTaskStartScheduler
 609              	.LVL43:
 659:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c **** 
 660:/home/tony/Desktop/Active-Precharge-Board/Nucleo-Code/tests/contactor.c ****   error_handler();
 610              		.loc 1 660 3 view .LVU168
 611 0052 FFF7FEFF 		bl	error_handler
 612              	.LVL44:
 613              	.L26:
 614 0056 00BF     		.align	2
 615              	.L25:
 616 0058 00000000 		.word	task_buffer
 617 005c 00000000 		.word	task_stack
 618 0060 00000000 		.word	.LC0
 619 0064 00000000 		.word	canTask
 620 0068 0C000000 		.word	.LC1
 621 006c 00000000 		.word	contactorTask
 622              		.cfi_endproc
 623              	.LFE297:
 625              		.global	task_stack
 626              		.section	.bss.task_stack,"aw",%nobits
 627              		.align	2
 630              	task_stack:
 631 0000 00000000 		.space	512
 631      00000000 
 631      00000000 
 631      00000000 
 631      00000000 
 632              		.global	task_buffer
 633              		.section	.bss.task_buffer,"aw",%nobits
 634              		.align	2
 637              	task_buffer:
 638 0000 00000000 		.space	84
 638      00000000 
 638      00000000 
 638      00000000 
 638      00000000 
 639              		.global	cycles
 640              		.section	.bss.cycles,"aw",%nobits
 641              		.align	2
 644              	cycles:
 645 0000 00000000 		.space	4
 646              		.global	on
 647              		.section	.data.on,"aw"
 648              		.align	2
 651              	on:
 652 0000 01000000 		.word	1
 653              		.global	fault
ARM GAS  /tmp/ccCmNqaZ.s 			page 25


 654              		.section	.bss.fault,"aw",%nobits
 655              		.align	2
 658              	fault:
 659 0000 00000000 		.space	20
 659      00000000 
 659      00000000 
 659      00000000 
 659      00000000 
 660              		.global	moco_fault
 661              		.section	.bss.moco_fault,"aw",%nobits
 662              		.align	2
 665              	moco_fault:
 666 0000 00000000 		.space	4
 667              		.global	BPS_safe
 668              		.section	.bss.BPS_safe,"aw",%nobits
 669              		.align	2
 672              	BPS_safe:
 673 0000 00000000 		.space	4
 674              		.global	time
 675              		.section	.bss.time,"aw",%nobits
 676              		.align	2
 679              	time:
 680 0000 00000000 		.space	4
 681              		.global	arrayPre
 682              		.section	.bss.arrayPre,"aw",%nobits
 683              		.align	2
 686              	arrayPre:
 687 0000 00000000 		.space	28
 687      00000000 
 687      00000000 
 687      00000000 
 687      00000000 
 688              		.global	motorPre
 689              		.section	.bss.motorPre,"aw",%nobits
 690              		.align	2
 693              	motorPre:
 694 0000 00000000 		.space	28
 694      00000000 
 694      00000000 
 694      00000000 
 694      00000000 
 695              		.global	motor
 696              		.section	.bss.motor,"aw",%nobits
 697              		.align	2
 700              	motor:
 701 0000 00000000 		.space	20
 701      00000000 
 701      00000000 
 701      00000000 
 701      00000000 
 702              		.text
 703              	.Letext0:
 704              		.file 2 "/usr/share/arm-gnu-toolchain/arm-none-eabi/include/machine/_default_types.h"
 705              		.file 3 "/usr/share/arm-gnu-toolchain/arm-none-eabi/include/sys/_stdint.h"
 706              		.file 4 "stm/stm32l4xx/CMSIS/Device/ST/STM32L4xx/Include/stm32l432xx.h"
 707              		.file 5 "stm/stm32l4xx/CMSIS/Device/ST/STM32L4xx/Include/stm32l4xx.h"
 708              		.file 6 "stm/stm32l4xx/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
ARM GAS  /tmp/ccCmNqaZ.s 			page 26


 709              		.file 7 "stm/stm32l4xx/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h"
 710              		.file 8 "stm/stm32l4xx/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_can.h"
 711              		.file 9 "FreeRTOS-Kernel/include/projdefs.h"
 712              		.file 10 "FreeRTOS-Kernel/portable/GCC/ARM_CM4F/portmacro.h"
 713              		.file 11 "FreeRTOS-Kernel/include/FreeRTOS.h"
 714              		.file 12 "FreeRTOS-Kernel/include/task.h"
 715              		.file 13 "bsp/Inc/CAN.h"
 716              		.file 14 "stm/stm32l4xx/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 717              		.file 15 "common/Inc/stm32x4xx_hal_init.h"
ARM GAS  /tmp/ccCmNqaZ.s 			page 27


DEFINED SYMBOLS
                            *ABS*:0000000000000000 contactor.c
     /tmp/ccCmNqaZ.s:21     .text.error_handler:0000000000000000 $t
     /tmp/ccCmNqaZ.s:26     .text.error_handler:0000000000000000 error_handler
     /tmp/ccCmNqaZ.s:66     .text.contactorTask:0000000000000000 $t
     /tmp/ccCmNqaZ.s:71     .text.contactorTask:0000000000000000 contactorTask
     /tmp/ccCmNqaZ.s:186    .text.contactorTask:00000000000000c0 $d
     /tmp/ccCmNqaZ.s:679    .bss.time:0000000000000000 time
     /tmp/ccCmNqaZ.s:192    .text.canTask:0000000000000000 $t
     /tmp/ccCmNqaZ.s:197    .text.canTask:0000000000000000 canTask
     /tmp/ccCmNqaZ.s:362    .text.canTask:000000000000009c $d
     /tmp/ccCmNqaZ.s:368    .text.MX_GPIO_Init:0000000000000000 $t
     /tmp/ccCmNqaZ.s:373    .text.MX_GPIO_Init:0000000000000000 MX_GPIO_Init
     /tmp/ccCmNqaZ.s:532    .text.MX_GPIO_Init:00000000000000b4 $d
     /tmp/ccCmNqaZ.s:538    .rodata.main.str1.4:0000000000000000 $d
     /tmp/ccCmNqaZ.s:545    .text.main:0000000000000000 $t
     /tmp/ccCmNqaZ.s:551    .text.main:0000000000000000 main
     /tmp/ccCmNqaZ.s:616    .text.main:0000000000000058 $d
     /tmp/ccCmNqaZ.s:637    .bss.task_buffer:0000000000000000 task_buffer
     /tmp/ccCmNqaZ.s:630    .bss.task_stack:0000000000000000 task_stack
     /tmp/ccCmNqaZ.s:627    .bss.task_stack:0000000000000000 $d
     /tmp/ccCmNqaZ.s:634    .bss.task_buffer:0000000000000000 $d
     /tmp/ccCmNqaZ.s:644    .bss.cycles:0000000000000000 cycles
     /tmp/ccCmNqaZ.s:641    .bss.cycles:0000000000000000 $d
     /tmp/ccCmNqaZ.s:651    .data.on:0000000000000000 on
     /tmp/ccCmNqaZ.s:648    .data.on:0000000000000000 $d
     /tmp/ccCmNqaZ.s:658    .bss.fault:0000000000000000 fault
     /tmp/ccCmNqaZ.s:655    .bss.fault:0000000000000000 $d
     /tmp/ccCmNqaZ.s:665    .bss.moco_fault:0000000000000000 moco_fault
     /tmp/ccCmNqaZ.s:662    .bss.moco_fault:0000000000000000 $d
     /tmp/ccCmNqaZ.s:672    .bss.BPS_safe:0000000000000000 BPS_safe
     /tmp/ccCmNqaZ.s:669    .bss.BPS_safe:0000000000000000 $d
     /tmp/ccCmNqaZ.s:676    .bss.time:0000000000000000 $d
     /tmp/ccCmNqaZ.s:686    .bss.arrayPre:0000000000000000 arrayPre
     /tmp/ccCmNqaZ.s:683    .bss.arrayPre:0000000000000000 $d
     /tmp/ccCmNqaZ.s:693    .bss.motorPre:0000000000000000 motorPre
     /tmp/ccCmNqaZ.s:690    .bss.motorPre:0000000000000000 $d
     /tmp/ccCmNqaZ.s:700    .bss.motor:0000000000000000 motor
     /tmp/ccCmNqaZ.s:697    .bss.motor:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_Delay
HAL_GetTick
can_init
can_start
can_send
hcan1
HAL_GPIO_Init
HAL_Init
HAL_MspInit
SystemClock_Config
xTaskCreateStatic
vTaskStartScheduler
